<html>
<head>
	<title>AutoPlaner</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">
	
	<link rel="stylesheet" href="css/metro-style.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic|Bitter' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="style.css"><link rel="stylesheet" type="text/css" href="css/default.css" />
	<link rel="stylesheet" type="text/css" href="css/component.css" />
	<link rel="stylesheet" href="http://js.arcgis.com/3.13/esri/css/esri.css" />
	<script src="js/modernizr.custom.js"></script>
	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="js/jquery.mobile-1.4.5.min.js"></script>
	<script src="js/freewall.js"></script>
	<script src="js/meny.js"></script>

	<style type="text/css">
		
	</style>
</head>
<body>
	<img id="showBottom" class="meny-arrow" src="images\menu.png" alt="Menu" style="width: 1.5em; position:absolute; top: 25px;right:25px; cursor: pointer;">
	<div class="meny" style="width: 260px; height: 100%; position: fixed; display: block; z-index: 1; -webkit-transform-origin: 100% 50% 0px; -webkit-transition: all 0.5s ease; transition: all 0.5s ease; -webkit-transform: translateX(-100%) translateX(6px) scale(1.01) rotateY(-30deg);">
			<h2>More Experiments</h2>
			<ul>
				<li><a href="http://lab.hakim.se/avgrund/">Avgrund</a></li>
				<li><a href="http://lab.hakim.se/radar/">Radar</a></li>
				<li><a href="http://lab.hakim.se/forkit-js/">forkit.js</a></li>
				<li><a href="http://lab.hakim.se/scroll-effects/">stroll.js</a></li>
				<li><a href="http://lab.hakim.se/zoom-js">zoom.js</a></li>
				<li><a href="http://lab.hakim.se/reveal-js">reveal.js</a></li>
				<li><a href="http://itunes.apple.com/us/app/sinuous/id543097218">Sinuous for iOS</a></li>
				<li><a href="http://hakim.se/experiments/css/domtree/">DOM Tree</a></li>
				<li><a href="http://hakim.se/experiments/css/holobox/">Holobox</a></li>
				<li><a href="http://hakim.se/experiments/html5/404/netmag.html">404</a></li>
			</ul>
		</div>
		

		
		
		
		
			
	<div class="layout"  data-role="page" id="pageone">
			<div id="freewall" class="free-wall">
				<div class="item size21 level1">
					<div class="padding">
						<h2>Auto Planer</h2>
						<div>Free app for drivers on the highways. <br> Panayiotis Papadopoulos</div>
					</div>	
				</div>
				
				<div class="size22 level1" data-fixSize=0 data-nested=".size11" data-cellW=150 data-cellH=150 data-gutterX=10 >
					<div class="item size11"><i class="img-demo1"></i></div>
					<div class="item size11"><i class="img-demo2"></i></div>
					<div class="item size11"><i class="img-demo3"></i></div>
					<div class="item size11"><i class="img-demo4"></i></div>
					<div class="item size11"><i class="img-demo5"></i></div>
					<div class="item size11"><i class="img-demo6"></i></div>
				</div>

				<div class="item size21 level1"><i class="layout-demo1"></i></div>
				
				<div class="item size21 level1"><i class="layout-demo2"></i></div>

				<div class="item size21 level1 desktop-box">
					<div class="wallpaper">
						<div class="text-bottom">
							<h1><a href="#pagetwo">η θέση μου</a></h1>
						</div>
					</div>
				</div>
				
				<div class="size22 level1" data-nested=".size11" data-cellW=150 data-cellH=150 data-gutterX=10 >
					<div class="item size11"><i class="icon-user icon-4x"></i></div>
					
					<div class="size11" data-fixSize=0 data-nested=".size2-2" data-cellW=70 data-cellH=70 >
						<div class="item size2-2"><i class="icon-facebook icon-2x"></i></div>
						<div class="item size2-2"><i class="icon-twitter icon-2x"></i></div>
						<div class="item size2-2"><i class="icon-linkedin icon-2x"></i></div>
						<div class="item size2-2"><i class="icon-google-plus icon-2x"></i></div>
					</div>
					
					<div class="item size11"><i class="icon-coffee icon-4x"></i></div>
					
					<div class="item size11"><i class="icon-comments icon-4x"></i></div>

					<div class="item size11"><i class="icon-headphones icon-4x"></i></div>
					
					<div class="item size11"><i class="icon-facetime-video icon-4x"></i></div>

				</div>

				<div class="item size21 level1"><i class="layout-demo3"></i></div>

				<div class="item size22 level1"><div class="map"></div></div>

				<div class="item size21 level1"><div class="freewall"></div></div>
				
				<div class="size22 level1" data-nested=".size11" data-cellW=150 data-cellH=150 data-gutterX=10 >
					<div class="item size11"><i class="icon-user icon-4x"></i></div>
					
					<div class="item size11"><i class="icon-coffee icon-4x"></i></div>
					
					<div class="size11" data-fixSize=0 data-nested=".size2-2" data-cellW=70 data-cellH=70 >
						<div class="item size2-2"><i class="img-demo7"></i></div>
						<div class="item size2-2"><i class="img-demo9"></i></div>
						<div class="item size2-2"><i class="img-demo10"></i></div>
						<div class="item size2-2"><i class="img-demo8"></i></div>
						<div class="item size2-2"><i class="img-demo11"></i></div>
						<div class="item size2-2"><i class="img-demo12"></i></div>
					</div>
					
					<div class="item size11"><i class="icon-comments icon-4x"></i></div>
				</div>

				<div class="item size21 level1"><i class="layout-demo5"></i></div>
				
				<div class="size21 level1" data-nested=".size11" data-cellW=150 data-cellH=150 data-gutterX=10>
					<div class="item size11"><i class="icon-calendar icon-4x"></i></div>
					<div class="item size11"><i class="icon-windows icon-4x"></i></div>
				</div>

				<div class="item size21 level1"><i class="layout-demo6"></i></div>
				
			</div> <!-- freewall -->
		</div> <!-- layout -->
	
	<script type="text/javascript">
			
			var colour = [
				"rgb(142, 68, 173)",
				"rgb(243, 156, 18)",
				"rgb(211, 84, 0)",
				"rgb(0, 106, 63)",
				"rgb(41, 128, 185)",
				"rgb(192, 57, 43)",
				"rgb(135, 0, 0)",
				"rgb(39, 174, 96)"
			];
			
			$(".free-wall .item").each(function() {
				var backgroundColor = colour[colour.length * Math.random() << 0];
				$(this).css({
					backgroundColor: backgroundColor
				});
			});

			$(function() {
				var wall = new freewall("#freewall");
				wall.reset({
					selector: '.level1',
					cellW: 320,
					cellH: 160,
					fixSize: 0,
					gutterX: 20,
					gutterY: 10,
					onResize: function() {
						wall.fitZone();
					}
				});
				wall.fitZone();
				$(window).trigger("resize");
			});





// Create an instance of Meny
			var meny = Meny.create({
				// The element that will be animated in from off screen
				menuElement: document.querySelector( '.meny' ),

				// The contents that gets pushed aside while Meny is active
				contentsElement: document.querySelector( '.layout' ),

				// [optional] The alignment of the menu (top/right/bottom/left)
				position: Meny.getQuery().p || 'left',

				// [optional] The height of the menu (when using top/bottom position)
				height: 200,

				// [optional] The width of the menu (when using left/right position)
				width: 260,

				// [optional] Distance from mouse (in pixels) when menu should open
				threshold: 40
			});

			// API Methods:
			// meny.open();
			// meny.close();
			// meny.isOpen();
			
			// Events:
			// meny.addEventListener( 'open', function(){ console.log( 'open' ); } );
			// meny.addEventListener( 'close', function(){ console.log( 'close' ); } );

			// Embed an iframe if a URL is passed in
			if( Meny.getQuery().u && Meny.getQuery().u.match( /^http/gi ) ) {
				var contents = document.querySelector( '.layout' );
				contents.style.padding = '0px';
				contents.innerHTML = '<div class="cover"></div><iframe src="'+ Meny.getQuery().u +'" style="width: 100%; height: 100%; border: 0; position: absolute;"></iframe>';
			}
		</script>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<!--
	<div  data-role="page" id="pageone">
	<h1><img id="showBottom" src="images\menu.png" alt="Menu" style="width: 1.5em;float: right; cursor: pointer;">Auto Planer</h1>
	<h5>Panayiotis Papadopoulos</h5>
	
	<div class="twelve"></div>
			
				<article class="six">
					<div id="locationarea" class="inner" title="βοήθεια από την θέση μου">
						<img  src="images\location.png" alt="alert" style="width: 2.5em;float: right; cursor: pointer;">
						<p class="d-size t-size">βοηθεια απο την θεση μου</p>
					</div>
				</article>
				<article class="six">
					<div id="categoriesarea" class="inner" title="Αναζήτηση με θεματικές κατηγορίες">
						<img  src="images\categories.png" alt="alert" style="width: 2.5em;float: right; cursor: pointer;">
						<p class="d-size t-size">αναζητηση σημειων</p>
						<p class="d-size t-size"></p>
					</div>
				</article>

				<article class="four">
					<div id="trafficarea" class="inner">
						<img  src="images\traffic.png" alt="alert" style="width: 2.5em;float: right; cursor: pointer;">
						<p class="d-size t-size">κινηση δρομων</p>
					</div>
				</article>
				<article class="four">
					<div id="mypositionarea" class="inner">
						<img  src="images\position.png" alt="alert" style="width: 2.5em;float: right; cursor: pointer;">
						<p class="d-size t-size"><a href="#pagetwo" style="color: black;">Πληροφοριες Θεσης</a></p>
					</div>
				</article>
				<article class="four">
					<div id="alertsarea" class="inner">
						<img  src="images\alert.png" alt="alert" style="width: 2.5em;float: right; cursor: pointer;">
						<p class="d-size t-size">ειδοποιησεις</p>
					</div>
				</article>
				<article class="d-2 t-3 m-4 c-6 ">
					<div class="inner">
						<div id="card"> 
						  <div class="front"> 
						    Front content
						  </div> 
						  <div class="back">
						    Back content
						  </div> 
						</div>
					</div>
				</article>
				<article class="d-2 t-3 m-4 c-6 ">
					<div class="inner">
						<p class="d-size">.d-2</p>
						<p class="t-size">.t-3</p>
						<p class="m-size">.m-4</p>
						<p class="c-size">.c-6</p>
					</div>
				</article>
				<article class="d-2 t-3 m-4 c-12 ">
					<div class="inner">
						<p class="d-size">.d-2</p>
						<p class="t-size">.t-3</p>
						<p class="m-size">.m-4</p>
						<p class="c-size">.c-12</p>
					</div>
				</article>
				<article class="d-2 t-3 m-8 c-4 ">
					<div class="inner">
						<p class="d-size">.d-2</p>
						<p class="t-size">.t-3</p>
						<p class="m-size">.m-8</p>
						<p class="c-size">.c-4</p>
					</div>
				</article>
				<article class="d-2 t-6 m-4 c-4 ">
					<div class="inner">
						<p class="d-size">.d-2</p>
						<p class="t-size">.t-6</p>
						<p class="m-size">.m-4</p>
						<p class="c-size">.c-4</p>
					</div>
				</article>
				<article class="d-2 t-6 m-12 c-4 ">
					<div class="inner">
						<p class="d-size">.d-2</p>
						<p class="t-size">.t-6</p>
						<p class="m-size">.m-12</p>
						<p class="c-size">.c-4</p>
					</div>
				</article>

				<article class="a-4 t-12 ">
					<div class="inner">
						<p class="d-size m-size">.a-4</p>
						<p class="t-size">.t-12</p>
					</div>
				</article>
				<article class="a-4 t-6 ">
					<div class="inner">
						<p class="d-size m-size">.a-4</p>
						<p class="t-size">.t-6</p>
					</div>
				</article>
				<article class="a-4 t-6 ">
					<div class="inner">
						<p class="d-size m-size">.a-4</p>
						<p class="t-size">.t-6</p>
					</div>
				</article>

			
			
		<div class="twelve">
			<div class="inner">
				<img id="geolocationapi" onclick="getLocation();" src="images\geolocation.png" alt="Geolocation" style="width: 2em;float: right;">
				<p id="demo"></p>
			</div>
		</div>
	</div>
	-->
	<div data-role="page" id="pagetwo">
	  <div data-role="header">
	  	<a href="#pageone" style="float: left;">Επιστροφη στην αρχη</a>
	    <h1>η θέση μου</h1>
	  </div>
	
	  <div data-role="content" id="ui-map-page">
	  	<!-- map content -->
	    
	      <div id="ui-map"></div>
	       <div id="ui-dijit-locatebutton"></div>
	    
	  </div>

	  <div data-role="footer">
	    <h1>Auto Planer 2015</h1>
	  </div>
	</div>
	
	<script type="text/javascript">
	        $( '#pagetwo' ).on( 'pageinit',function(event){
	        	//alert("ewrwer")
	            jqueryInit();
	        });
	       
	    </script>
	    
	<div data-role="page" id="pagetraffic">
	  <div data-role="header">
	  	<a href="#pageone" style="float: left;">Επιστροφη στην αρχη</a>
	    <h1>Κινηση στους Δρομους</h1>
	  </div>
	
	  <div data-role="main" class="ui-content">
	    <iframe src="http://www.astynomia.gr/traffic-athens.php" style="width: 100%; height: 100%;"></iframe>
	    
	  </div>
	
	  <div data-role="footer">
	    <h1>Auto Planer 2015</h1>
	  </div>
	</div>
	<script src="src/jQueryHelper.js"></script>
	<script src="http://js.arcgis.com/3.13/"></script>
	<script>
		

function getLocation() {
	var x = document.getElementById("demo");
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
	var x = document.getElementById("demo");
    x.innerHTML = "Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude;	
}


///UI functions -------------------------------------------------------





var map;
        function jqueryInit(){
            require(["esri/map","esri/symbols/PictureMarkerSymbol","dojo/on","dojo/domReady!"],
                function(Map,PictureMarkerSymbol,on) {
                    var helper = null;
                    // Create map
                    map = new Map("ui-map",{
                        basemap: "gray",
                        center: [23,39],
                        zoom: 4,
                        sliderPosition: "bottom-left"
                    });
                    // Wait until map has loaded before starting geolocation
                    map.on("load",init);
                    // Create the marker symbol
                    var markerSymbol = new PictureMarkerSymbol({
                        "angle":0,
                        "xoffset":0,
                        "yoffset":0,
                        "type":"esriPMS",
                        "url":"images/bluepoint-21x29.png",
                        "width":18,
                        "height":26
                    })
                    function init(){
                        try{
                            helper = new jQueryHelper(map);
                        }
                        catch(err) {
                            console.log("Unable to initialize jQueryHelper: " + err.message);
                        }
                        $('#ui-map').width('100%');
						$('#ui-map').height('87%');
                        map.reposition();
                        map.resize();
                        startGeolocation();
                    }
                    function startGeolocation(){
                        navigator.geolocation.getCurrentPosition(locationSuccess,locationError,{setHighAccuracy:true});
                    }
                    // Handle location success
                    function locationSuccess(position){
                        if(position.coords.latitude != null || position.coords.longitude != null){
                            console.log("ps " + position.coords.longitude + ", " + position.coords.latitude)
                            var wgsPt = new esri.geometry.Point(position.coords.longitude,position.coords.latitude);
                            map.graphics.add(new esri.Graphic(wgsPt, markerSymbol));
                            map.centerAndZoom(wgsPt,12);
                            //Set jQueryHelper properties
                            helper.setCenterPt(position.coords.latitude,position.coords.longitude,4326);
                            helper.setZoom(9);
                        }
                    }
                    function locationError(err){
                        console.log("locationError: " + err.message);
                    }
                     $(document).on("pageshow","#pagetwo",function(){
					  $('#ui-map').width('100%');
						$('#ui-map').height('87%');
						map.reposition();
		                map.resize();
		                startGeolocation();
					});
                    
                    
                    
                }
            );
        }

		</script>
</body>
</html>





